<div class="content-wrapper">
  <section class="content-header">
    <h1>
      Invoice
    </h1>
    <ol class="breadcrumb">
      <li><a ui-sref="app.dashboard"><i class="fa fa-dashboard"></i> Home</a></li>
      <li><a ui-sref="app.invoices">Invoices</a></li>
      <li class="active">{{invoice.number}}</li>
    </ol>
  </section>
  <section class="content">
    <form ng-submit="save()" novalidate>
      <div class="row">
        <div class="col-md-6">
          <div class="box box-success">
            <div class="box-header">
              <h3 class="box-title">Persoonsgegevens</h3>
            </div>
            <div class="box-body">
              {{invoice.debiteur.name}}<br/>
              {{invoice.debiteur.street}} {{invoice.debiteur.address}}<br/>
              {{invoice.debiteur.zipcode}} {{invoice.debiteur.city}}
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="box box-primary">
            <div class="box-header">
              <h3 class="box-title">Factuurgegevens</h3>
            </div>
            <div class="box-body">
              <dl class="dl-horizontal">
                <dt>Status</dt>
                <dd>{{invoice.status}}</dd>
                <dt>Date</dt>
                <dd>{{invoice.date|date:"yyyy-mm-dd"}}</dd>
              </dl>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <div class="box box-warning">
            <div class="box-header">
              <h3 class="box-title">Invoice fields</h3>
            </div>
            <div class="box-body">
              <table class="table table-striped">
                <thead>
                <tr>
                  <th>Description</th>
                  <th>Amount</th>
                  <th>Price</th>
                  <th>Total</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="invoiceField in invoice.invoiceFields">
                  <td>{{invoiceField.description}}</td>
                  <td>{{invoiceField.amount}}</td>
                  <td>{{invoiceField.price|currency:"&euro;"}}</td>
                  <td ng-init="itemTotal = invoiceField.price*invoiceField.amount; total = total + itemTotal">
                    {{itemTotal|currency:"&euro;"}}
                  </td>
                </tr>
                <tr ng-repeat="product in invoice.products">
                  <td>{{product.description}}</td>
                  <td>1</td>
                  <td>{{product.price|currency:"&euro;"}}</td>
                  <td ng-init="itemTotal=product.price; total = total + product.price">{{itemTotal|currency:"&euro;"}}
                  </td>
                </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </form>
  </section>
</div>

